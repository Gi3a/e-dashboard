import{arrow as e,computePosition as t}from"@floating-ui/dom";export{autoPlacement,autoUpdate,computePosition,detectOverflow,flip,getOverflowAncestors,hide,inline,limitShift,offset,platform,shift,size}from"@floating-ui/dom";import{unref as n,computed as l,ref as u,shallowRef as a,watch as o,getCurrentScope as r,onScopeDispose as i,shallowReadonly as f}from"vue-demi";import{isNode as v,getNodeName as s}from"@floating-ui/utils/dom";function m(e){if(function(e){return null!=e&&{}.hasOwnProperty.call(e,"$el")}(e)){const t=e.$el;return v(t)&&"#comment"===s(t)?null:t}return e}function c(t){return{name:"arrow",options:t,fn(l){const u=m(n(t.element));return null==u?{}:e({element:u,padding:t.padding}).fn(l)}}}function d(e){if("undefined"==typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function p(e,t){const n=d(e);return Math.round(t*n)/n}function w(e,v,s){void 0===s&&(s={});const c=s.whileElementsMounted,w=l((()=>{var e;return null==(e=n(s.open))||e})),y=l((()=>n(s.middleware))),g=l((()=>{var e;return null!=(e=n(s.placement))?e:"bottom"})),h=l((()=>{var e;return null!=(e=n(s.strategy))?e:"absolute"})),x=l((()=>{var e;return null==(e=n(s.transform))||e})),P=l((()=>m(e.value))),D=l((()=>m(v.value))),O=u(0),b=u(0),M=u(h.value),S=u(g.value),$=a({}),z=u(!1),A=l((()=>{const e={position:M.value,left:"0",top:"0"};if(!D.value)return e;const t=p(D.value,O.value),n=p(D.value,b.value);return x.value?{...e,transform:"translate("+t+"px, "+n+"px)",...d(D.value)>=1.5&&{willChange:"transform"}}:{position:M.value,left:t+"px",top:n+"px"}}));let C;function E(){null!=P.value&&null!=D.value&&t(P.value,D.value,{middleware:y.value,placement:g.value,strategy:h.value}).then((e=>{O.value=e.x,b.value=e.y,M.value=e.strategy,S.value=e.placement,$.value=e.middlewareData,z.value=!0}))}function R(){"function"==typeof C&&(C(),C=void 0)}return o([y,g,h],E,{flush:"sync"}),o([P,D],(function(){R(),void 0!==c?null==P.value||null==D.value||(C=c(P.value,D.value,E)):E()}),{flush:"sync"}),o(w,(function(){w.value||(z.value=!1)}),{flush:"sync"}),r()&&i(R),{x:f(O),y:f(b),strategy:f(M),placement:f(S),middlewareData:f($),isPositioned:f(z),floatingStyles:A,update:E}}export{c as arrow,w as useFloating};
